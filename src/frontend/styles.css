:root {
  --bg: #0b1021;
  --panel: #111735;
  --ink: #e7ecff;
  --muted: #98a1c0;
  --accent: #3b82f6;
  --accent-ink: #dbe8ff;
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--ink);
}

.app-shell { max-width: 1100px; margin: 0 auto; padding: 24px; }

.header-bar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.brand-title { font-size: 20px; margin: 0; color: var(--accent-ink); }

.controls-panel { background: var(--panel); padding: 12px; border-radius: 12px; margin-bottom: 16px; }
.query-form { display: flex; gap: 8px; }
.query-input { flex: 1; padding: 12px 14px; border-radius: 10px; border: 1px solid #1d244a; background: #0e1532; color: var(--ink); }
.submit-button { padding: 12px 16px; border-radius: 10px; border: none; background: var(--accent); color: #fff; cursor: pointer; }
.submit-button:hover { filter: brightness(1.1); }

.stream-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.progress-stream, .results-panel { background: var(--panel); border-radius: 12px; display: flex; flex-direction: column; min-height: 360px; }
.stream-header, .results-header { padding: 12px 14px; border-bottom: 1px solid #1d244a; color: var(--muted); display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.stream-body, .results-body { padding: 12px; overflow: auto; }
.results-title { color: var(--muted); }
.results-toolbar { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.toolbar-button { padding: 8px 12px; border-radius: 8px; border: 1px solid #2a3568; background: #0e1532; color: var(--ink); cursor: pointer; }
.toolbar-button:hover { filter: brightness(1.1); }
.select-all, .filter-saved { display: inline-flex; align-items: center; gap: 6px; color: var(--muted); font-size: 13px; }
.results-footer { padding: 10px 14px; border-top: 1px solid #1d244a; color: var(--muted); font-size: 13px; }

.loading-indicator { width: 16px; height: 16px; border-radius: 50%; border: 2px solid #2b335f; border-top-color: var(--accent); display: inline-block; animation: none; }
.is-loading .loading-indicator { animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.step-item { padding: 8px 10px; border-left: 3px solid #2b335f; margin: 6px 0; background: #0d1330; border-radius: 8px; }
.step-node { color: var(--muted); font-size: 12px; }
.step-text { color: var(--ink); font-size: 14px; }

.op-card { background: #0d1330; border: 1px solid #1d244a; border-radius: 10px; padding: 12px; margin: 10px 0; transition: background 0.2s ease; }
.op-card:hover { background: #0f1636; }
.op-header { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.op-title { font-weight: 600; color: var(--accent-ink); margin: 0; }
.op-score { color: var(--success); font-size: 13px; }
.op-summary { color: var(--ink); margin: 8px 0 0; }
.op-source { color: var(--muted); font-size: 13px; margin-top: 6px; }
.op-actions { display: flex; align-items: center; gap: 10px; color: var(--muted); font-size: 13px; }
.op-link { color: var(--accent-ink); text-decoration: underline; }
.op-link:focus { outline: 2px solid var(--accent); outline-offset: 2px; }
.op-select { display: inline-flex; align-items: center; gap: 6px; }
.op-saved { color: var(--warning); font-size: 12px; }

@media (max-width: 860px) {
  .stream-layout { grid-template-columns: 1fr; }
  .results-toolbar { gap: 8px; }
  .toolbar-button { padding: 8px 10px; }
}
